<section id="contact">

  <div class="section-container">
    <div class="form">
      <h2>contact</h2>

      <%= form_for Contact.new, url: contact_path do |f| %>

        <%= f.select :category, Contact::CONTACT_EMAILS.map { |k, v| [t("contact.categories.#{k}"), k] } %>

        <%= f.text_field :firstname, placeholder: "Prénom", required: true %>

        <%= f.text_field :lastname, placeholder: "Nom", required: true %>

        <%= f.text_field :subject, placeholder: "Sujet", required: true %>

        <%= f.email_field :email, placeholder: "Email", required: true %>

        <%= f.text_area :message, placeholder: "Message", cols: 30, rows: 10, required: true %>

        <div class="input <%= yield :id %>"><%= f.submit "Envoyer" %></div>

      <% end %>
    </div>

    <div class="address">
      <p>
        Association Rencontre de Jeunesse<br>
        1607 Palézieux<br>
        Suisse
    </div>
  </div>

  <div id="map"></div>

</section>


<script>

  function initMap() {
    var lat = 46.615083;
    var lng = 7.048672;
    var rj = {lat: lat, lng: lng};
    var center = {lat: lat, lng: lng - 0.000004 * window.innerWidth };
    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 16,
      center: center,
      styles: silver,
      disableDefaultUI: true
    });
    var marker = new google.maps.Marker({
      position: rj,
      map: map
    });
    window.onresize = function() {
      center = {lat: lat, lng: lng - 0.000004 * window.innerWidth };
      map.setCenter(center);
    }
  }


  var silver = [
      {
        elementType: 'geometry',
        stylers: [{color: '#f5f5f5'}]
      },
      {
        elementType: 'labels.icon',
        stylers: [{visibility: 'off'}]
      },
      {
        elementType: 'labels.text.fill',
        stylers: [{color: '#616161'}]
      },
      {
        elementType: 'labels.text.stroke',
        stylers: [{color: '#f5f5f5'}]
      },
      {
        featureType: 'administrative.land_parcel',
        elementType: 'labels.text.fill',
        stylers: [{color: '#bdbdbd'}]
      },
      {
        featureType: 'poi',
        elementType: 'geometry',
        stylers: [{color: '#eeeeee'}]
      },
      {
        featureType: 'poi',
        elementType: 'labels.text.fill',
        stylers: [{color: '#757575'}]
      },
      {
        featureType: 'poi.park',
        elementType: 'geometry',
        stylers: [{color: '#e5e5e5'}]
      },
      {
        featureType: 'poi.park',
        elementType: 'labels.text.fill',
        stylers: [{color: '#9e9e9e'}]
      },
      {
        featureType: 'road',
        elementType: 'geometry',
        stylers: [{color: '#ffffff'}]
      },
      {
        featureType: 'road.arterial',
        elementType: 'labels.text.fill',
        stylers: [{color: '#757575'}]
      },
      {
        featureType: 'road.highway',
        elementType: 'geometry',
        stylers: [{color: '#dadada'}]
      },
      {
        featureType: 'road.highway',
        elementType: 'labels.text.fill',
        stylers: [{color: '#616161'}]
      },
      {
        featureType: 'road.local',
        elementType: 'labels.text.fill',
        stylers: [{color: '#9e9e9e'}]
      },
      {
        featureType: 'transit.line',
        elementType: 'geometry',
        stylers: [{color: '#e5e5e5'}]
      },
      {
        featureType: 'transit.station',
        elementType: 'geometry',
        stylers: [{color: '#eeeeee'}]
      },
      {
        featureType: 'water',
        elementType: 'geometry',
        stylers: [{color: '#c9c9c9'}]
      },
      {
        featureType: 'water',
        elementType: 'labels.text.fill',
        stylers: [{color: '#9e9e9e'}]
      }
    ]
</script>